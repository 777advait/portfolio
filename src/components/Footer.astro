---
import Link from "./Link.astro"

const socials = [
  { href: 'https://twitter.com/777advait', label: 'twitter' },
  { href: 'https://github.com/777advait', label: 'github' },
  { href: 'https://www.linkedin.com/in/777advait/', label: 'linkedin' }, 
  { href: 'mailto:advait.nsj@proton.me', label: 'advait.nsj@proton.me' },
]
---

<footer class="py-4 border-t">
  <div class="px-2.5 py-6">
    <div class="space-y-8">
      <div class="flex items-center">
        {
          socials.map((social, index) => ( 
            <li class="flex items-center"> 
              <Link className="lg:text-base" blank={true} href={social.href} >
                {social.label}
              </Link>
              {index != 3 && <span aria-hidden="true" class="select-none px-2">
                •
              </span>}
            </li>
          ))
        }
      </div>
      <div class="flex flex-col gap-2 md:flex-row md:justify-between">
        <div class="flex items-center gap-2 text-sm lg:text-base">
          <span data-time class="text-muted-foreground font-medium">00:00:00</span>
          <span>•</span>
          <p>mumbai, india</p>
        </div>
        <!-- <SpotifyNowPlaying client:load /> -->
      </div>

    </div>
  </div>
</footer>

<script>
  const timers = document.querySelectorAll(
    '[data-time]',
  ) as NodeListOf<HTMLElement>;

  function getCurrentTime() {
    return new Date().toLocaleTimeString('en-US', {
      timeZone: 'Asia/Kolkata',
      hourCycle: 'h24',
    });
  }

  const startTime = getCurrentTime();
  timers.forEach((el) => {
    el.textContent = startTime;
  });

  setInterval(() => {
    const currentTime = getCurrentTime();

    if (startTime !== currentTime) {
      timers.forEach((el) => {
        el.textContent = currentTime;
      });
    }
  }, 1000);
</script>